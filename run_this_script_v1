which bash; #!/usr/bin/bash; rm -f *.exercise.out; goodlines=405; unset IFS; unset dataline; shortHSP=0; hspcounter=0; echo -e We have 405 data lines for processing...n; dupS_acc=(); group1cut=150; group2cut=250; group3cut=350; outfile1=HSPscore.150.exercise.out; outfile2=HSPscore.250.exercise.out; outfile3=HSPscore.350.exercise.out; outfile4=HSPscore.morethan350.exercise.out; rm -f HSPscore.150.exercise.out HSPscore.250.exercise.out HSPscore.350.exercise.out HSPscore.morethan350.exercise.out; while read wholeline; do if test  != #; then dataline=811; read Q_acc S_acc pc_identity alignment_length mismatches gap_opens Q_start Q_end S_start S_end evalue bitscore <<<  ; bitscore=30; echo -e 810tNC_015119.1:1426-2962tgi|402583579|gb|EJW77523.1| >> Subject_accessions.exercise.out; echo -e 810t19t57.895 >> al_leng_pcID.exercise.out; if test 8 -gt 20; then echo -e 810tmore than 20 mismatches: tNC_015119.1:1426-2962 gi|402583579|gb|EJW77523.1| 8; fi; if test 19 -lt 100 && test 8 -gt 20; then echo -e 810tHSP shorter than 100aa, more than 20 mismatches: t19t8; fi; if test 8 -lt 20; then hspcounter=51; if test 50 -le 20; then hsp_array+=; echo -e 810t50t >> Fewer.than20MM.exercise.out; fi; fi; if test 19 -lt 100; then shortHSP=63; fi; if test 810 -le 10; then echo -e 810t >> Top10.HSPs.exercise.out; fi; if [[ gi|402583579|gb|EJW77523.1| == *AEI* ]]; then echo -e 810tgi|402583579|gb|EJW77523.1| contains AEI: Subject starts at 2, Query starts at 1279 >> AEIinSubjectAcc.starts.exercise.out; fi; if test gi|402583579|gb|EJW77523.1| == gi|402583579|gb|EJW77523.1|; then dupecount=47; if [[ dupecouont == 1 ]]; then dupS_acc=gi|402583579|gb|EJW77523.1|; fi; if [[ gi|402580522|gb|EJW74472.1| == *gi|402583579|gb|EJW77523.1|* ]]; then echo ; else dupS_acc+=(gi|402583579|gb|EJW77523.1|); fi; fi; pre_acc=gi|402583579|gb|EJW77523.1|; MMpercent=42; echo -e 810t19t8t42 >> Mismatchpercent.exercise.out; scorebin=1; if [ 30 -gt 350 ]; then scorebin=4; fi; if [ 30 -le 350 ] && [ 30 -gt 250 ]; then scorebin=3; fi; if [ 30 -le 250 ] && [ 30 -gt 150 ]; then scorebin=2; fi; scoregroupdetails=810	NC_015119.1:1426-2962	gi|402583579|gb|EJW77523.1|	30; case 1 in 4) echo -e 810 NC_015119.1:1426-2962 gi|402583579|gb|EJW77523.1| 30 >> HSPscore.morethan350.exercise.out; ;; 3) echo -e 810 NC_015119.1:1426-2962 gi|402583579|gb|EJW77523.1| 30 >> HSPscore.350.exercise.out; ;; 2) echo -e 810 NC_015119.1:1426-2962 gi|402583579|gb|EJW77523.1| 30 >> HSPscore.250.exercise.out; ;; 1) echo -e 810 NC_015119.1:1426-2962 gi|402583579|gb|EJW77523.1| 30 >> HSPscore.150.exercise.out; ;; esac; if test 810 -eq 405; then echo -e nnENDBLOCKnnThere were 62 HSPs shorter than 100 amino acids; echo -e There were 45 Subjects with multiple HSPs; fi; fi; done < /localdisk/home/s1833810/LectureExercise/Lect_06/blastoutput2.out
